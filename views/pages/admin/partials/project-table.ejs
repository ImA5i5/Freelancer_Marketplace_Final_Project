<!-- ================================ -->
<!-- üìå ADMIN PROJECTS TABLE (PARTIAL) -->
<!-- ================================ -->

<% if (projects && projects.length > 0) { %>

  <table class="min-w-full border border-gray-200 rounded-lg">
    <thead class="bg-green-700 text-white">
      <tr>
        <th class="py-3 px-4 text-left">Title</th>
        <th class="py-3 px-4 text-left">Client</th>
        <th class="py-3 px-4 text-center">Budget</th>
        <th class="py-3 px-4 text-center">Status</th>
        <th class="py-3 px-4 text-center">Visibility</th>
        <th class="py-3 px-4 text-center">Actions</th>
      </tr>
    </thead>

    <tbody>
      <% projects.forEach(project => { %>
        <tr class="border-b hover:bg-gray-50 transition">

          <!-- Title -->
          <td class="py-3 px-4 font-semibold text-gray-800">
            <%= project.title %>
          </td>

          <!-- Client -->
          <td class="py-3 px-4 text-gray-700">
            <%= project.clientName %><br />
            <span class="text-xs text-gray-500"><%= project.clientEmail %></span>
          </td>

          <!-- Budget -->
          <td class="py-3 px-4 text-center text-gray-700">
            ‚Çπ<%= project.budget %>
          </td>

          <!-- Status -->
          <td class="py-3 px-4 text-center">
            <span class="
              px-3 py-1 rounded-full text-xs font-semibold
              <%= project.status === 'approved' ? 'bg-green-200 text-green-800'
               : project.status === 'pending' ? 'bg-yellow-200 text-yellow-800'
               : project.status === 'in-progress' ? 'bg-blue-200 text-blue-800'
               : project.status === 'completed' ? 'bg-gray-200 text-gray-700'
               : project.status === 'disputed' ? 'bg-red-200 text-red-800'
               : 'bg-gray-200 text-gray-700' %>
            ">
              <%= project.status.charAt(0).toUpperCase() + project.status.slice(1) %>
            </span>
          </td>

          <!-- Visibility -->
          <td class="py-3 px-4 text-center">
            <span class="
              px-3 py-1 text-xs rounded-full font-medium
              <%= project.isActive ? 'bg-green-100 text-green-700' 
                                    : 'bg-gray-100 text-gray-500' %>
            ">
              <%= project.isActive ? 'Visible' : 'Hidden' %>
            </span>
          </td>

          <!-- Actions -->
          <td class="py-3 px-4 text-center flex justify-center gap-2">

            <% if (project.status === 'pending') { %>
              <button 
                class="approveBtn bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded text-sm"
                data-id="<%= project._id %>">
                ‚úÖ Approve
              </button>
            <% } %>

            <% if (project.status !== 'completed' && project.status !== 'rejected') { %>
              <button 
                class="rejectBtn bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded text-sm"
                data-id="<%= project._id %>">
                ‚ùå Reject
              </button>
            <% } %>

            <button 
              class="toggleVisibilityBtn bg-gray-500 hover:bg-gray-600 text-white px-3 py-1 rounded text-sm"
              data-id="<%= project._id %>">
              üëÅÔ∏è <%= project.isActive ? "Hide" : "Show" %>
            </button>

          </td>

        </tr>
      <% }) %>
    </tbody>
  </table>

  <!-- ================================ -->
  <!-- üìå PAGINATION BUTTONS (NO INLINE JS) -->
  <!-- ================================ -->
  <div class="flex justify-center mt-6 gap-2">

    <% for (let i = 1; i <= pagination.totalPages; i++) { %>
      <button 
        class="pagination-btn px-3 py-1 border rounded 
          <%= i === pagination.page
                ? 'bg-blue-600 text-white border-blue-600'
                : 'bg-gray-100 hover:bg-gray-200 border-gray-300' %>"
        data-page="<%= i %>">
        <%= i %>
      </button>
    <% } %>

  </div>

<% } else { %>

  <div class="text-center py-10 text-gray-500">
    No projects found.
  </div>

<% } %>
